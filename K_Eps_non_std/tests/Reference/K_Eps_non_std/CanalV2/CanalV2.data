# Validation modele V2f #
# PARALLEL NOT #
# Cas canal adimensionnel.Initialisation champ uniforme #
# conditions entrees sortie #
# JDD 1 : 23/07/2002 #

dimension 2
Pb_hydraulique_Turbulent pb
Domaine dom

# BEGIN MESH #
Mailler dom
{

 	Pave  canal 
		{
 	        	origine             0.     0.    
  	                Nombre_de_noeuds    51     51
 	                Longueurs           125.   1.  
 	                Facteurs            1.     1.05
                }
                {
                        bord Entree     X = 0.      0. <= Y <= 1.
                        bord gauche     Y = 0.      0. <= X <= 125.
                        bord droite	Y = 1.      0. <= X <= 125.
                        bord Sortie     X = 125.    0. <= Y <= 1.
                }
}
# END MESH #

# BEGIN PARTITION
Partition dom
{
        Partitionneur tranche { tranches 2 1 }

        Larg_joint 1
        Nom_Zones DOM
}
Fin
END PARTITION #

# BEGIN SCATTER
Scatter DOM.Zones dom
END SCATTER #

VDF dis

Fluide_Incompressible air
Lire air
           {
	    mu      Champ_Uniforme  1 3.0769e-4
	    rho     Champ_Uniforme  1 1.

	   }


Schema_Euler_explicite sch
Lire sch
        {
	 tinit        0.
	 nb_pas_dt_max 10
	 tmax         100.
	 dt_min       1.e-5
	 dt_max       0.1
	 dt_impr      10.
	 dt_sauv      10.
	 seuil_statio 1.e-7
         facsec 0.1
        }

Ecrire sch

Associate pb  dom
Associate pb  sch
Associate pb  air

Discretize pb dis

Lire pb
       {
	Navier_Stokes_Turbulent 
	{
   		solveur_pression Cholesky  { impr } 
		convection                 { amont }
		diffusion                  { }
		sources                    {  }
		conditions_initiales       { vitesse Champ_Uniforme 2  1. 0. }                        
	        boundary_conditions         {
			 gauche         paroi_fixe
			 droite		Symetrie
			 Entree 	frontiere_ouverte_vitesse_imposee Champ_front_recyclage
				 	{ pb_champ_evaluateur pb vitesse 2 distance_plan 25. 0. }
			 Sortie 	frontiere_ouverte_vitesse_imposee Champ_front_recyclage
				 	{ pb_champ_evaluateur pb vitesse 2 distance_plan 0. 0. }
	 }


	Modele_Turbulence  K_epsilon_V2
	{
	Transport_K_epsilon_V2 {
		Convection           { amont }
		Diffusion            { }
		sources 	     { source_transport_K_Eps_V2 {  } }
	
		boundary_conditions   {
			   gauche  	  paroi_fixe
			   droite 	  Symetrie
		           Entree  	  frontiere_ouverte_K_eps_impose Champ_front_recyclage
				          { pb_champ_evaluateur pb k_eps 2 distance_plan 25. 0 } 
		           Sortie    	  frontiere_ouverte_K_eps_impose Champ_front_recyclage
					  { pb_champ_evaluateur pb k_eps 2 distance_plan 0. 0 }
			   
		                     }                                                                                
 		 Conditions_initiales { k_eps Champ_Uniforme 2 7.e-2 4.6e-3 }     
	 			
				}
 		               
	
	 Transport_V2 		{                
		 convection { amont }        
       	 	 diffusion { }                   
		 boundary_conditions    {                        
			    gauche paroi
                            droite symetrie                
			    Entree frontiere_ouverte_V2_impose Champ_front_recyclage
				   { pb_champ_evaluateur pb v2 1 ampli_fluctuation 1 1. distance_plan 25. 0 }
			    Sortie frontiere_ouverte V2_EXT champ_front_uniforme 1 0.007
					}
                  conditions_initiales 
					{        
                				V2 Champ_Uniforme 1 0.0046
					}
        			} 
               
	  EqnF22   		{                
       		   Solveur Gmres { }
				}
	  Turbulence_paroi negligeable
 	}
}
        
	

Postraitement {
		        Sondes
	                       { 
	s_pression0.02 pression periode 0.1 segment 5 12.5 0.03 112.5 0.03
	s_pression0.2 pression periode 0.1 segment 5 12.5 0.21 112.5 0.21
	s_pression0.6 pression periode 0.1 segment 5 12.5 0.61 112.5 0.61
		
	segvitesse25 vitesse periode 0.1 segment 50 25 2.e-2 25 1.        
	segvitesse50 vitesse periode 0.1 segment 50 50 2.e-2 50 1.       
	segvitesse75 vitesse periode 0.1 segment 50 75 2.e-2 75 1.
        segvitesse100 vitesse periode 0.1 segment 50 100 2.e-2 100 1.

        segk12.5 k periode 0.1 segment 50 25.125 1.e-2 25.125 0.99        
	segk62.5 k periode 0.1 segment 50 50.125 1.e-2 50.125 0.99
        segk87.5 k periode 0.1 segment 50 75.125 1.e-2 75.125 0.99    
	segk112.5 k periode 0.1 segment 50 100.125 1.e-2 100.125 0.99    
	
	segeps12.5 eps periode 0.1 segment 50 25.125 1.e-2 25.125 0.99      
	segeps62.5 eps periode 0.1 segment 50 50.125 1.e-2 50.125 0.99      
	segeps87.5 eps periode 0.1 segment 50 75.125 1.e-2 75.125 0.99
        segeps112.5 eps periode 0.1 segment 50 100.125 1.e-2 100.125 0.99
        
	segnut12.5 viscosite_turbulente periode 0.1 segment 50 25.125 1.e-2 25.125 0.99   
	segnut62.5 viscosite_turbulente periode 0.1 segment 50 50.125 1.e-2 50.125 0.99   
	segnut87.5 viscosite_turbulente periode 0.1 segment 50 75.125 1.e-2 75.125 0.99
	segnut112.5 viscosite_turbulente periode 0.1 segment 50 100.125 1.e-2 100.125 0.99


	segv212.5 v2 periode 0.1 segment 50 25.125 1.e-2 25.125 0.99   
	segv262.5 v2 periode 0.1 segment 50 50.125 1.e-2 50.125 0.99   
	segv287.5 v2 periode 0.1 segment 50 75.125 1.e-2 75.125 0.99
	segv2112.5 v2 periode 0.1 segment 50 100.125 1.e-2 100.125 0.99

	segf2212.5 f22 periode 0.1 segment 50 25.125 1.e-2 25.125 0.99   
	segf2262.5 f22 periode 0.1 segment 50 50.125 1.e-2 50.125 0.99   
	segf2287.5 f22 periode 0.1 segment 50 75.125 1.e-2 75.125 0.99
	segf22112.5 f22 periode 0.1 segment 50 100.125 1.e-2 100.125 0.99


	s_vitesseft vitesse periode 0.1  points 1 75 6.e-2        
	s_nutft viscosite_turbulente periode 0.1 points 1 87.5 5.e-2        
	s_epsft eps periode 0.1 points 1 87.5 5.e-2        
	s_kft k periode 0.1 points 1 87.5 5.e-2            
	sonde_v2 v2 periode 0.1 points 1 87.5 5.e-2                    
	sonde_f22 f22  periode 0.1 points 1 87.5 5.e-2      
			 
		
                      
	                       


				
		               }
			Champs dt_post 2.
			{
				vitesse elem
				k elem
                        	eps elem
                       		viscosite_turbulente elem
				v2 elem
				f22 elem
			}
	}
}

Solve pb  
FIN
